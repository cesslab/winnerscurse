{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
    Round {{ round_number }}
{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'auction/bid.css' %}">
{% endblock %}

{% block content %}
    <div>
        <p>Consider the following lottery ticket that the winner will get in the auction. There are two possible prizes, 0 and a value v.</p>
    </div>

    <div>
        <h4 class="text-center"><u>Lottery {{ lottery_id }}</u></h4>
        <p class="text-center">
            {% if treatment == 'cv' %}
                With a probability of {{ p }}% you get a value v between {{ alpha }} and {{ beta }}, <br>otherwise you get 0.
            {% else %}
                With a probability of p between {{ alpha }}% and {{ beta }}%, you get a value of {{ value }}, <br>otherwise you get 0.
            {% endif %}
        </p>
    </div>

    <div>
        <h4 class="text-center"><u>Your Signal</u></h4>
        <p class="text-center">
            {% if treatment == 'cv' %}
                Your signal about v is: {{ signal }}.
            {% else %}
                Your signal about p is: {{ signal }}.
            {% endif %}
        </p>
    </div>

    <div>
        <h5 class=""><u>Signal Interpretation</u></h5>
        <span>
            {% if treatment == 'cv' %}
                Your signal about v is at most {{ epsilon }} units away from the Selected Value v. <br>
                Given your signal, the Selected Value must lie between {{ min_signal }} and {{ max_signal }}.
            {% else %}
                Your signal about p is at most {{ epsilon }} units away from the Selected Probability p. <br>
                Given your signal, the Selected Probability must lie between {{ min_signal }} and {{ max_signal }}.
            {% endif %}
        </span>
    </div>

    <div class="grid-bid-container">
        <div class="text-center">
            <h4><u>Your Bid</u></h4>
        </div>
        <div>
            <input
                    type="number"
                    id="id_bid"
                    name="bid"
                    min="{{ min_bid }}"
                    max="{{ max_bid }}"
                    step="1"
                    class="center-input form-control"
                    value="{{ form.bid.value|default_if_none:"" }}"
                    placeholder="Enter Your Bid" required>

            <small id="bidhelp" class="form-text text-muted">Your bid must be between {{ min_bid }}
                and {{ max_bid }}.
            </small>
            {% if form.bid.errors %}
                <div class="alert alert-danger">
                    {{ form.bid.errors }}
                </div>
            {% endif %}
        </div>
    </div>

    {% next_button %}
    {% endblock %}
